<!doctype html>
<html lang="en">
  <head data-th-replace="fragments/header :: copy"></head>
  <body>
  <nav data-th-replace="fragments/navigation :: copy"></nav>

  <div class="container">
    <h1>Employees (JavaScript)</h1>
    <button type="button" class="btn btn-primary">New Employee</button>
    <table id="employee-table" class="table table-hover">
      <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">eMail</th>
        <th scope="col">Date of birth</th>
        <th scope="col">Team</th>
        <th scope="col">Job</th>
        <th scope="col">Status</th>
        <th scope="col">Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr data-th-each="employee : ${employees}" data-th-id="${employee.id}" id="#">
        <td data-th-text="${employee.name}"></td>
        <td data-th-text="${employee.email}"></td>
        <td data-th-text="${employee.birthday}"></td>
        <td data-th-text="${employee.teamName}"></td>
        <td data-th-text="${employee.levelAndJob}"></td>
        <td>
          <span data-th-if="${employee.active}" class="badge badge-success">Active</span>
          <span data-th-unless="${employee.active}" class="badge badge-secondary">Inactive</span>
        </td>
        <td>
          <a href="#" data-th-href="@{ ${employee.editUrl} }"><i class="material-icons table-action-icon">edit</i></a>
          <a href="#" data-th-href="@{ ${employee.deleteUrl} }"><i class="material-icons table-action-icon">delete</i></a>
        </td>
      </tr>
      </tbody>
    </table>
    <!-- Pagination -->
    <nav data-th-replace="fragments/pagination :: copy"></nav>

  </div>
  <div data-th-replace="fragments/footer :: copy"></div>
  <script>
    $(document).ready(function() {
      // Get JSON-formatted data from the server
      $.getJSON( "/rest/v1/employees", function( resp ) {

          // Log each key in the response data
          $.each( resp, function( key, value ) {
              console.log( key + " : " + value );
          });
      });
    });
  </script>
  </body>
</html>